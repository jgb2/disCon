pick_r = ifelse(pickPos == item_r, 1, 0))
plot3
plot3 <- data %>%
filter(phase == 'test') %>%
group_by(distribution, subid) %>%
mutate(pick_l = ifelse(pickPos == "item_l", 1, 0),
pick_m = ifelse(pickPos == "item_m", 1, 0),
pick_r = ifelse(pickPos == "item_r", 1, 0))
plot3
plot3 <- data %>%
filter(phase == 'test') %>%
mutate(pick_l = ifelse(pickPos == "item_l", 1, 0),
pick_m = ifelse(pickPos == "item_m", 1, 0),
pick_r = ifelse(pickPos == "item_r", 1, 0)) %>%
group_by(distribution, subid) %>%
summarise(choose_l = mean(pick_l),
choose_m = mean(pick_m),
choose_r = mean(pick_r)) %>%
gather(item, prop_correct, -distribution, -subid) %>%
group_by(distribution, item) %>%
multi_boot_standard(col = "prop_correct")
plot3
plot3 <- data %>%
filter(phase == 'test') %>%
mutate(pick_l = ifelse(pickPos == "item_l", 1, 0),
pick_m = ifelse(pickPos == "item_m", 1, 0),
pick_r = ifelse(pickPos == "item_r", 1, 0)) %>%
group_by(distribution, subid) %>%
summarise(choose_l = mean(pick_l),
choose_m = mean(pick_m),
choose_r = mean(pick_r)) %>%
gather(item, prop_correct, -distribution, -subid) %>%
group_by(distribution, item) %>%
multi_boot_standard(col = "prop_correct")
plot3 <- data %>%
filter(phase == 'test') %>%
mutate(pick_l = ifelse(pickPos == "item_l", 1, 0),
pick_m = ifelse(pickPos == "item_m", 1, 0),
pick_r = ifelse(pickPos == "item_r", 1, 0)) %>%
group_by(distribution, subid) %>%
summarise(choose_l = mean(pick_l),
choose_m = mean(pick_m),
choose_r = mean(pick_r))
plot3
plot3 <- data %>%
filter(phase == 'test') %>%
mutate(pick_l = ifelse(pickPos == "item_l", 1, 0),
pick_m = ifelse(pickPos == "item_m", 1, 0),
pick_r = ifelse(pickPos == "item_r", 1, 0)) %>%
group_by(distribution, subid) %>%
summarise(choose_l = mean(pick_l),
choose_m = mean(pick_m),
choose_r = mean(pick_r)) %>%
gather(item, prop_correct, -distribution, -subid)
plot3
plot3 <- data %>%
filter(phase == 'test') %>%
mutate(pick_l = ifelse(pickPos == "item_l", 1, 0),
pick_m = ifelse(pickPos == "item_m", 1, 0),
pick_r = ifelse(pickPos == "item_r", 1, 0)) %>%
group_by(distribution, subid) %>%
summarise(choose_l = mean(pick_l),
choose_m = mean(pick_m),
choose_r = mean(pick_r)) %>%
gather(item, prop_choose, -distribution, -subid) %>%
group_by(distribution, item) %>%
multi_boot_standard(col = "prop_choose")
plot3
ggplot(plot3,
aes(x = item, y=mean, fill=item)) +
geom_bar(stat='identity') +
geom_linerange(aes(ymin = ci_lower, ymax = ci_upper)) +
scale_fill_solarized(name = "Chosen item",
breaks = c("left", "middle", "right"),
labels = c("most frequent", "second most frequent", "least frequent"))+
facet_grid(~distribution,
labeller = as_labeller(c(`c(6, 0, 0)` = "Distribution\n(6-0-0)", `c(4, 2, 0)` = "Distribution\n(4-2-0)", `c(2, 2, 2)` = "Distribution\n(2-2-2)", preference = "preference", statistical = "statistical"))) +
geom_hline(yintercept = 1/3, lty=2) +
ylim(0, 1) +
theme_few() +
theme(axis.text.x = element_blank(), axis.ticks.x = element_blank()) +
labs(x="", y= "proportion chosen")
ggplot(plot3,
aes(x = item, y=mean, fill=item)) +
geom_bar(stat='identity')
ggplot(plot3,
aes(x = item, y=mean, fill=item)) +
geom_bar(stat='identity') +
geom_linerange(aes(ymin = ci_lower, ymax = ci_upper))
ggplot(plot3,
aes(x = item, y=mean, fill=item)) +
geom_bar(stat='identity') +
geom_linerange(aes(ymin = ci_lower, ymax = ci_upper)) +
scale_fill_solarized(name = "Chosen item",
breaks = c("choose_l", "choose_m", "choose_r"),
labels = c("left", "middle", "right"))
ggplot(plot3,
aes(x = item, y=mean, fill=item)) +
geom_bar(stat='identity') +
geom_linerange(aes(ymin = ci_lower, ymax = ci_upper)) +
scale_fill_solarized(name = "Chosen item",
breaks = c("choose_l", "choose_m", "choose_r"),
labels = c("left", "middle", "right"))+
facet_grid(~distribution,
labeller = as_labeller(c(`c(6, 0, 0)` = "Distribution\n(6-0-0)", `c(4, 2, 0)` = "Distribution\n(4-2-0)", `c(2, 2, 2)` = "Distribution\n(2-2-2)")))
ggplot(plot3,
aes(x = item, y=mean, fill=item)) +
geom_bar(stat='identity') +
geom_linerange(aes(ymin = ci_lower, ymax = ci_upper)) +
scale_fill_solarized(name = "Chosen item",
breaks = c("choose_l", "choose_m", "choose_r"),
labels = c("left", "middle", "right"))+
facet_grid(~distribution,
labeller = as_labeller(c(`c(6, 0, 0)` = "Distribution\n(6-0-0)", `c(4, 2, 0)` = "Distribution\n(4-2-0)", `c(2, 2, 2)` = "Distribution\n(2-2-2)"))) +
geom_hline(yintercept = 1/3, lty=2) +
ylim(0, 1) +
theme_few() +
theme(axis.text.x = element_blank(), axis.ticks.x = element_blank()) +
labs(x="", y= "proportion chosen")
data
plot3 <- data %>%
filter(phase == 'test', correct_target1 == 1)
data
plot3
plot3 <- data %>%
filter(phase == 'test', correct_target1 == 1) %>%
mutate(pick_l = ifelse(pickPos == "item_l", 1, 0),
pick_m = ifelse(pickPos == "item_m", 1, 0),
pick_r = ifelse(pickPos == "item_r", 1, 0)) %>%
group_by(distribution, subid) %>%
summarise(choose_l = mean(pick_l),
choose_m = mean(pick_m),
choose_r = mean(pick_r)) %>%
gather(item, prop_choose, -distribution, -subid) %>%
group_by(distribution, item) %>%
multi_boot_standard(col = "prop_choose")
ggplot(plot3,
aes(x = item, y=mean, fill=item)) +
geom_bar(stat='identity') +
geom_linerange(aes(ymin = ci_lower, ymax = ci_upper)) +
scale_fill_solarized(name = "Chosen item",
breaks = c("choose_l", "choose_m", "choose_r"),
labels = c("left", "middle", "right"))+
facet_grid(~distribution,
labeller = as_labeller(c(`c(6, 0, 0)` = "Distribution\n(6-0-0)", `c(4, 2, 0)` = "Distribution\n(4-2-0)", `c(2, 2, 2)` = "Distribution\n(2-2-2)"))) +
geom_hline(yintercept = 1/3, lty=2) +
ylim(0, 1) +
theme_few() +
theme(axis.text.x = element_blank(), axis.ticks.x = element_blank()) +
labs(x="", y= "proportion chosen")
plot3 <- data %>%
filter(phase == 'test', correct_target1 == 0) %>%
mutate(pick_l = ifelse(pickPos == "item_l", 1, 0),
pick_m = ifelse(pickPos == "item_m", 1, 0),
pick_r = ifelse(pickPos == "item_r", 1, 0)) %>%
group_by(distribution, subid) %>%
summarise(choose_l = mean(pick_l),
choose_m = mean(pick_m),
choose_r = mean(pick_r)) %>%
gather(item, prop_choose, -distribution, -subid) %>%
group_by(distribution, item) %>%
multi_boot_standard(col = "prop_choose")
ggplot(plot3,
aes(x = item, y=mean, fill=item)) +
geom_bar(stat='identity') +
geom_linerange(aes(ymin = ci_lower, ymax = ci_upper)) +
scale_fill_solarized(name = "Chosen item",
breaks = c("choose_l", "choose_m", "choose_r"),
labels = c("left", "middle", "right"))+
facet_grid(~distribution,
labeller = as_labeller(c(`c(6, 0, 0)` = "Distribution\n(6-0-0)", `c(4, 2, 0)` = "Distribution\n(4-2-0)", `c(2, 2, 2)` = "Distribution\n(2-2-2)"))) +
geom_hline(yintercept = 1/3, lty=2) +
ylim(0, 1) +
theme_few() +
theme(axis.text.x = element_blank(), axis.ticks.x = element_blank()) +
labs(x="", y= "proportion chosen")
plot2 <- data %>%
filter(phase == "test", distribution != "c(6, 0, 0)") %>%
mutate(trackLast = ifelse(lastInputCat == target1, "yes", "no")) %>%
group_by (distribution, subid) %>%
summarise (lastInput = mean(same_lastInput),
n = n()) %>%
multi_boot_standard(col = "lastInput")
ggplot(plot2,
aes(x = distribution, y = mean, fill = distribution)) +
geom_bar(stat='identity', width = 0.3) +
geom_linerange(aes(ymin = ci_lower, ymax = ci_upper)) +
geom_hline(yintercept = 1/3, lty=2) +
ylim(0, 1) +
theme_few()
plot3 <- data %>%
filter(phase == 'test') %>%
mutate(pick_l = ifelse(pickPos == "item_l", 1, 0),
pick_m = ifelse(pickPos == "item_m", 1, 0),
pick_r = ifelse(pickPos == "item_r", 1, 0)) %>%
group_by(distribution, subid) %>%
summarise(choose_l = mean(pick_l),
choose_m = mean(pick_m),
choose_r = mean(pick_r)) %>%
gather(item, prop_choose, -distribution, -subid) %>%
group_by(distribution, item) %>%
multi_boot_standard(col = "prop_choose")
ggplot(plot3,
aes(x = item, y=mean, fill=item)) +
geom_bar(stat='identity') +
geom_linerange(aes(ymin = ci_lower, ymax = ci_upper)) +
scale_fill_solarized(name = "Chosen item",
breaks = c("choose_l", "choose_m", "choose_r"),
labels = c("left", "middle", "right"))+
facet_grid(~distribution,
labeller = as_labeller(c(`c(6, 0, 0)` = "Distribution\n(6-0-0)", `c(4, 2, 0)` = "Distribution\n(4-2-0)", `c(2, 2, 2)` = "Distribution\n(2-2-2)"))) +
geom_hline(yintercept = 1/3, lty=2) +
ylim(0, 1) +
theme_few() +
theme(axis.text.x = element_blank(), axis.ticks.x = element_blank()) +
labs(x="", y= "proportion chosen")
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(ggplot2)
library(jsonlite)
library(tidyr)
library(stringr)
library(dplyr)
library(ggthemes)
library(langcog)
plot3 <- data %>%
filter(phase == 'test') %>%
mutate(pick_l = ifelse(pickPos == "item_l", 1, 0),
pick_m = ifelse(pickPos == "item_m", 1, 0),
pick_r = ifelse(pickPos == "item_r", 1, 0)) %>%
group_by(distribution, workerid) %>%
summarise(choose_l = mean(pick_l),
choose_m = mean(pick_m),
choose_r = mean(pick_r)) %>%
gather(item, prop_choose, -distribution, -workerid) %>%
group_by(distribution, item) %>%
multi_boot_standard(col = "prop_choose")
files <- dir("../../pilot_1_raw_data/production-results")
raw_data <- data_frame()
for (f in files) {
jf <- paste("../../pilot_1_raw_data/production-results/",f,sep="")
jd <- fromJSON(paste(readLines(jf), collapse=""))
id <- as_data_frame(jd$answers$data$data) %>%
mutate(workerid = jd$WorkerId)
raw_data <- bind_rows(raw_data, id)
}
data <- raw_data %>%
mutate(distribution = as.character(distribution),
distribution = factor(distribution, levels = c("c(6, 0, 0)", "c(4, 2, 0)", "c(2, 2, 2)")))
plot3 <- data %>%
filter(phase == 'test') %>%
mutate(pick_l = ifelse(pickPos == "item_l", 1, 0),
pick_m = ifelse(pickPos == "item_m", 1, 0),
pick_r = ifelse(pickPos == "item_r", 1, 0)) %>%
group_by(distribution, workerid) %>%
summarise(choose_l = mean(pick_l),
choose_m = mean(pick_m),
choose_r = mean(pick_r)) %>%
gather(item, prop_choose, -distribution, -workerid) %>%
group_by(distribution, item) %>%
multi_boot_standard(col = "prop_choose")
plot3 <- data %>%
filter(phase == 'test') %>%
mutate(pick_l = ifelse(pickPos == "item_l", 1, 0),
pick_m = ifelse(pickPos == "item_m", 1, 0),
pick_r = ifelse(pickPos == "item_r", 1, 0)) %>%
group_by(distribution, workerid) %>%
summarise(choose_l = mean(pick_l),
choose_m = mean(pick_m),
choose_r = mean(pick_r)) %>%
gather(item, prop_choose, -distribution, -workerid) %>%
group_by(distribution, item) %>%
multi_boot_standard(col = "prop_choose")
ggplot(plot3,
aes(x = item, y=mean, fill=item)) +
geom_bar(stat='identity') +
geom_linerange(aes(ymin = ci_lower, ymax = ci_upper)) +
scale_fill_solarized(name = "Chosen item",
breaks = c("choose_l", "choose_m", "choose_r"),
labels = c("left", "middle", "right"))+
facet_grid(~distribution,
labeller = as_labeller(c(`c(6, 0, 0)` = "Distribution\n(6-0-0)", `c(4, 2, 0)` = "Distribution\n(4-2-0)", `c(2, 2, 2)` = "Distribution\n(2-2-2)"))) +
geom_hline(yintercept = 1/3, lty=2) +
ylim(0, 1) +
theme_few() +
theme(axis.text.x = element_blank(), axis.ticks.x = element_blank()) +
labs(x="", y= "proportion chosen")
plot4 <- data %>%
filter(phase == 'test', correct_target1 == 0) %>%
mutate(pick_l = ifelse(pickPos == "item_l", 1, 0),
pick_m = ifelse(pickPos == "item_m", 1, 0),
pick_r = ifelse(pickPos == "item_r", 1, 0)) %>%
group_by(distribution, subid) %>%
summarise(choose_l = mean(pick_l),
choose_m = mean(pick_m),
choose_r = mean(pick_r)) %>%
gather(item, prop_choose, -distribution, -subid) %>%
group_by(distribution, item) %>%
multi_boot_standard(col = "prop_choose")
plot4 <- data %>%
filter(phase == 'test', correct_target1 == 0) %>%
mutate(pick_l = ifelse(pickPos == "item_l", 1, 0),
pick_m = ifelse(pickPos == "item_m", 1, 0),
pick_r = ifelse(pickPos == "item_r", 1, 0)) %>%
group_by(distribution, workerid) %>%
summarise(choose_l = mean(pick_l),
choose_m = mean(pick_m),
choose_r = mean(pick_r)) %>%
gather(item, prop_choose, -distribution, -workerid) %>%
group_by(distribution, item) %>%
multi_boot_standard(col = "prop_choose")
ggplot(plot4,
aes(x = item, y=mean, fill=item)) +
geom_bar(stat='identity') +
geom_linerange(aes(ymin = ci_lower, ymax = ci_upper)) +
scale_fill_solarized(name = "Chosen item",
breaks = c("choose_l", "choose_m", "choose_r"),
labels = c("left", "middle", "right"))+
facet_grid(~distribution,
labeller = as_labeller(c(`c(6, 0, 0)` = "Distribution\n(6-0-0)", `c(4, 2, 0)` = "Distribution\n(4-2-0)", `c(2, 2, 2)` = "Distribution\n(2-2-2)"))) +
geom_hline(yintercept = 1/3, lty=2) +
ylim(0, 1) +
theme_few() +
theme(axis.text.x = element_blank(), axis.ticks.x = element_blank()) +
labs(x="", y= "proportion chosen")
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(ggplot2)
library(jsonlite)
library(tidyr)
library(stringr)
library(dplyr)
library(ggthemes)
library(langcog)
data
data <- data %>%
filter(subid != "", subid != "test", subid != "Test")
data %>%
filter(phase == 'training') %>%
group_by(subid) %>%
summarise(correct = mean(correct_item))
files <- dir("../../data/kids_pilot/")
raw_data <- data_frame()
for (f in files) {
jf <- paste("../../data/kids_pilot/",f,sep="")
jd <- fromJSON(paste(readLines(jf), collapse=""))
id <- as_data_frame(jd$data$data)
raw_data <- bind_rows(raw_data, id)
}
data <- raw_data %>%
mutate(distribution = as.character(distribution),
distribution = factor(distribution, levels = c("c(6, 0, 0)", "c(4, 2, 0)", "c(2, 2, 2)")))
data <- data %>%
filter(subid != "", subid != "test", subid != "Test")
data %>%
filter(phase == 'training') %>%
group_by(subid) %>%
summarise(correct = mean(correct_item))
drop <- data %>%
filter(phase == 'training') %>%
group_by(subid) %>%
summarise(correct = mean(correct_item)) %>%
filter(correct < 0.83) %>%
pull(subid)
data <- data %>%
filter(!subid %in% drop)
data
plot1 <- data %>%
filter(phase == 'test')
data
plot1
plot1 <- data %>%
filter(phase == 'test') %>%
group_by(distribution, subid)
plot1
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(ggplot2)
library(jsonlite)
library(tidyr)
library(stringr)
library(dplyr)
library(ggthemes)
library(langcog)
data
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(ggplot2)
library(jsonlite)
library(tidyr)
library(stringr)
library(dplyr)
library(ggthemes)
library(langcog)
raw_data <- data_frame()
files <- dir("../kids_simple/")
raw_data <- data_frame()
for (f in files) {
jf <- paste("../data/kids_simple/",f,sep="")
jd <- fromJSON(paste(readLines(jf), collapse=""))
id <- as_data_frame(jd$data$data)
raw_data <- bind_rows(raw_data, id)
}
data <- raw_data %>%
mutate(distribution = as.character(distribution),
distribution = factor(distribution, levels = c("c(6, 0, 0)", "c(4, 2, 0)", "c(2, 2, 2)")))
data
data <- raw_data %>%
mutate(distribution = as.character(distribution),
distribution = factor(distribution, levels = c("c(6, 0, 0)", "c(4, 2, 0)", "c(2, 2, 2)")))
data
files <- dir("../kids_simple/")
w
w
raw_data <- data_frame()
for (f in files) {
jf <- paste("../data/kids_simple/",f,sep="")
jd <- fromJSON(paste(readLines(jf), collapse=""))
id <- as_data_frame(jd$data$data)
raw_data <- bind_rows(raw_data, id)
}
data <- raw_data %>%
mutate(distribution = as.character(distribution),
distribution = factor(distribution, levels = c("c(6, 0, 0)", "c(4, 2, 0)", "c(2, 2, 2)")))
raw_data
files <- dir("../kids_simple/")
raw_data <- data_frame()
for (f in files) {
jf <- paste("../data/kids_simple/",f,sep="")
jd <- fromJSON(paste(readLines(jf), collapse=""))
id <- as_data_frame(jd$data$data)
raw_data <- bind_rows(raw_data, id)
}
raw_data
files <- dir("../../kids_simple/")
raw_data <- data_frame()
for (f in files) {
jf <- paste("../../kids_simple/",f,sep="")
jd <- fromJSON(paste(readLines(jf), collapse=""))
id <- as_data_frame(jd$data$data)
raw_data <- bind_rows(raw_data, id)
}
data <- raw_data %>%
mutate(distribution = as.character(distribution),
distribution = factor(distribution, levels = c("c(6, 0, 0)", "c(4, 2, 0)", "c(2, 2, 2)")))
data
data <- data %>%
filter(subid != "", subid != "test", subid != "Test")
data %>%
filter(phase == 'training') %>%
group_by(subid) %>%
summarise(correct = mean(correct_item))
drop <- data %>%
filter(phase == 'training') %>%
group_by(subid) %>%
summarise(correct = mean(correct_item)) %>%
filter(correct < 0.83) %>%
pull(subid)
data <- data %>%
filter(!subid %in% drop)
data
data <- data %>%
filter(subid != "", subid != "test", subid != "Test")
data
data <- raw_data %>%
mutate(distribution = as.character(distribution),
distribution = factor(distribution, levels = c("c(6, 0, 0)", "c(4, 2, 0)", "c(2, 2, 2)")))
data %>%
filter(phase == 'training') %>%
group_by(subid) %>%
summarise(correct = mean(correct_item))
drop <- data %>%
filter(phase == 'training') %>%
group_by(subid) %>%
summarise(correct = mean(correct_item)) %>%
filter(correct < 0.83) %>%
pull(subid)
data <- data %>%
filter(!subid %in% drop)
data
plot1 <- data %>%
filter(phase == 'test') %>%
group_by(distribution, subid) %>%
summarise(correct = mean(correct_target1),
correct2 = mean(correct_target2),
correct3 = mean(correct_target3)) %>%
gather(item, prop_correct, -distribution, -subid) %>%
group_by(distribution, item) %>%
multi_boot_standard(col = "prop_correct")
plot1 <- data %>%
filter(phase == 'test') %>%
group_by(distribution, subid) %>%
summarise(correct = mean(correct_target1),
correct2 = mean(correct_target2),
correct3 = mean(correct_target3)) %>%
gather(item, prop_correct, -distribution, -subid) %>%
group_by(distribution, item) %>%
multi_boot_standard(col = "prop_correct")
ggplot(plot1,
aes(x = item, y=mean, fill=item)) +
geom_bar(stat='identity') +
geom_linerange(aes(ymin = ci_lower, ymax = ci_upper)) +
scale_fill_solarized(name = "Chosen item",
breaks = c("correct", "correct2", "correct3"),
labels = c("most frequent", "second most frequent", "least frequent"))+
facet_grid(~distribution,
labeller = as_labeller(c(`c(6, 0, 0)` = "Distribution\n(6-0-0)", `c(4, 2, 0)` = "Distribution\n(4-2-0)", `c(2, 2, 2)` = "Distribution\n(2-2-2)", preference = "preference", statistical = "statistical"))) +
geom_hline(yintercept = 1/3, lty=2) +
ylim(0, 1) +
theme_few() +
theme(axis.text.x = element_blank(), axis.ticks.x = element_blank()) +
labs(x="", y= "proportion chosen")
